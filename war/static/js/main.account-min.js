var account={v:{passwordFormId:"passwordForm",configFormId:"configForm",tableId:"accountManageTable"},fn:{getcookie:function(b){var a=document.cookie.match(new RegExp("(^| )"+b+"=([^;]*)(;|$)"));if(a!=null){return unescape(a[2])}return null},langChooser:function(a){var c=a.options[a.selectedIndex].value;var d=a.options[a.selectedIndex].title;showLoading($("#"+account.v.tableId));var b=jsonrpc.languageService.choose(function(e,f,g){if(f){removeLoading($("#"+account.v.tableId));return}window.location.href="../../"+c+"/member/index.html"},d)},updatePass:function(){var b=$("#"+account.v.tableId).find("#"+account.v.passwordFormId).find("#oldPassword").val();var c=$("#"+account.v.tableId).find("#"+account.v.passwordFormId).find("#newPassword").val();var a=$("#"+account.v.tableId).find("#"+account.v.passwordFormId).find("#newPassword2").val();showLoading($("#"+account.v.tableId));jsonrpc.acountManageService.updatePassword(function(d,e,f){removeLoading($("#"+account.v.tableId));if(e){return}var g=d;if(g){showInfo(nc.i18n("res.update.success"));$("#"+account.v.tableId).find("#"+account.v.passwordFormId).find("#oldPassword").val("");$("#"+account.v.tableId).find("#"+account.v.passwordFormId).find("#newPassword").val("");$("#"+account.v.tableId).find("#"+account.v.passwordFormId).find("#newPassword2").val("")}else{showInfo(nc.i18n("res.update.failure"))}},b,c,a)},queryConfig:function(){jsonrpc.acountManageService.queryConfig(function(result,exception,profile){removeLoading($("#"+account.v.configFormId));var data=result;data="("+data+")";data=eval(data);$("#"+account.v.configFormId).find("#timezone").val(data.timezone==null?"":data.timezone)})},updateTimezone:function(){var a=$("#"+account.v.configFormId).find("#timezone").val();showLoading($("#"+account.v.tableId));jsonrpc.acountManageService.updateTimezone(function(b,c,d){removeLoading($("#"+account.v.tableId));if(c){return}var e=b;if(e){showInfo(nc.i18n("res.update.success"))}else{showInfo(nc.i18n("res.update.failure"))}},a)}}};